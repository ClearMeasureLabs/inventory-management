---
description: Workflow for implementing GitHub issues through design, development, and validation phases
alwaysApply: true
---

# Issue Implementation Workflow

When assigned to work on a GitHub issue, follow this phased workflow. Each phase requires updating labels and documenting progress via issue comments.

## Getting Started

Before beginning any phase, create a dedicated branch for the issue, open a draft pull request, and ensure the development environment is ready:

1. Create and checkout a new branch using the naming convention: `issues/[issue-number]/[issue-title]`
   - Replace `[issue-number]` with the GitHub issue number
   - Replace `[issue-title]` with the issue title in kebab-case (lowercase, hyphens instead of spaces, remove special characters)
   - Example: Issue #42 "Add User Authentication" â†’ `issues/42/add-user-authentication`
2. All work for this issue should be committed to this branch
3. Immediately open a draft pull request referencing the issue:
   - Push the branch to the remote repository
   - Create a draft PR using: `gh pr create --draft --title "[Issue Title]" --body "Closes #[issue-number]"`
   - Example: `gh pr create --draft --title "Add User Authentication" --body "Closes #42"`
   - The draft PR provides early visibility into work-in-progress and enables ongoing review as changes are committed
4. Run `scripts/install_tools.ps1` to ensure all development dependencies are installed:
   - This starts Docker if not running
   - Installs Angular dependencies
   - Installs Playwright browsers for acceptance tests
   - Installs other required tooling

## Phase 1: Technical Design

1. Read and understand the issue requirements
2. Update issue labels: remove all existing labels, add `Technical-Design`
3. Explore the codebase to understand relevant components and dependencies
4. Formulate an implementation plan including architecture changes and required tests (unit, integration, Angular)
5. Add the Technical Design as a comment to the issue using this format:

```markdown
## Technical Design

**Affected Components:** [List of files/modules to modify or create]

**Implementation Steps:**
1. [Step with specific file and change description]
2. [Continue for all steps...]

**Dependencies:** [Any new packages or infrastructure required]

**Unit Tests:** [Test descriptions and categories per automated-testing-rules.mdc, or "None required" with rationale]

**Integration Tests:** [Test descriptions covering component interactions, or "None required" with rationale]

**Angular Tests:** [Test descriptions covering UI behavior, or "None required" with rationale]
```

## Phase 2: Acceptance Test Design

1. Update issue labels: remove all existing labels, add `Test-Design`
2. Review the issue requirements, Technical Design comment, and `@.cursor/rules/automated-testing-rules.mdc`
3. Determine if acceptance tests are required for this issue (see criteria below)
4. Add the Acceptance Test Design as a comment to the issue using this format:

```markdown
## Acceptance Test Design

**Acceptance Tests:**
- [Test description covering end-to-end user workflow]

OR

**Acceptance Tests:** None required - [rationale: e.g., "backend-only change with no user-facing impact"]
```

### When Acceptance Tests Are Required
- New user-facing features that span WebApp and WebAPI
- Critical user workflows that require end-to-end validation
- Changes that affect the deployed application behavior

### When Acceptance Tests Are NOT Required
- Backend-only changes (covered by unit/integration tests)
- UI-only changes (covered by Angular tests)
- Documentation or configuration changes
- Refactoring with no behavior change

## Phase 3: Development

1. Update issue labels: remove all existing labels, add `Development`
2. Implement the Technical Design changes (including unit, integration, and Angular tests)
3. Implement any acceptance tests from the Acceptance Test Design
4. Run `scripts/build_and_test.ps1` to verify all changes
5. If the script fails to execute for any reason (missing dependencies, Docker issues, environment problems, etc.), diagnose and fix the issue, then re-run the script
6. If any tests fail, fix the code or tests until all tests pass
7. Repeat steps 4-6 until the script completes successfully with all tests passing
8. **Work is not complete until `scripts/build_and_test.ps1` passes with no errors.** Do not proceed to Phase 4 until this requirement is met.
9. Commit final changes and push to the draft pull request

## Phase 4: Validation Handoff

1. Update issue labels: remove all existing labels, add `Functional-Validation`
2. Update pull request labels: remove all existing labels, add `Functional-Validation` using: `gh pr edit --remove-label "<existing-labels>" --add-label "Functional-Validation"`

**Important:** The `Functional-Validation` label cannot be added until `scripts/build_and_test.ps1` completes with no errors. The PR remains in draft status.

**Note:** Do not close the issue. The `Functional-Validation` label on both the issue and PR signals that manual review and testing are required before closure.
