---
description: Automated PR code review process
globs: []
alwaysApply: false
---

# Code Review Rules

## Before Reviewing

1. **Fetch the issue**: Extract from PR body ("Closes #" or "Fixes #"). Read requirements, acceptance criteria, technical design.
2. **Check README**: Does it need updates for new features, scripts, or config?

## Review Checklist

Evaluate against project rules:

- **Architecture** (`architecture-rules.mdc`): Layer boundaries, CQRS patterns, DTOs not entities, no unauthorized package/SDK changes
- **Testing** (`automated-testing-rules.mdc`): Required tests exist, AAA pattern followed
- **Documentation**: README updated, complex logic commented
- **Code Quality**: No linter errors, consistent naming, proper error handling, no hardcoded config
- **Issue Requirements**: Acceptance criteria met, edge cases handled

## Posting the Review

```markdown
## Automated Code Review

### Checklist Results
#### Architecture Rules
- [x] Layer boundaries respected
- [ ] Issue: [describe problem]

#### Testing
- [x] Required tests added

#### Documentation
- [x] README updated

#### Code Quality
- [x] No linter errors

#### Issue Requirements
- [x] Acceptance criteria met

### Summary
[Brief findings]

### Required Changes
[Specific changes or "None - approved"]
```

## Decision

- **Approve**: All items pass
- **Request changes**: Issues foundâ€”convert PR to draft

```bash
# Approve
gh pr review [PR] --approve --body "Comment"

# Request changes + convert to draft
gh pr review [PR] --request-changes --body "Comment"
gh pr ready [PR] --undo
```
